"use strict";(self.webpackChunkpes_fe=self.webpackChunkpes_fe||[]).push([[116],{112:(e,s,a)=>{a.d(s,{A:()=>l}),a(1594);var n=a(9368),r=a(4848);const l=e=>{let{myFeedback:s,navigate:a}=e;return(0,r.jsxs)("div",{className:"bottom",children:[(0,r.jsxs)("div",{className:"feed_top",children:[(0,r.jsx)("div",{className:"mypage_btn",children:"my feedback"}),(0,r.jsxs)("div",{className:"feedNum",children:[s.length,"개"]})]}),(0,r.jsx)("div",{className:"myFeedback",children:(0,r.jsx)(n.A,{myFeedback:s,navigate:a})})]})}},7976:(e,s,a)=>{a.d(s,{A:()=>l}),a(1594);var n=a(9197),r=a(4848);const l=e=>{let{memberName:s,memberId:a,memberEmail:l,memberGen:m,memberStatus:c,memberMajor:t,memberPhone:i}=e;return(0,r.jsx)("div",{className:"left",children:(0,r.jsxs)("div",{className:"memberInfo",children:[(0,r.jsxs)("div",{className:"info_name",children:[(0,r.jsx)(n.d$e,{size:40,style:{color:"grey"}}),(0,r.jsx)("p",{children:s})]}),(0,r.jsxs)("div",{className:"text",children:[(0,r.jsx)("div",{children:"학 번"}),(0,r.jsx)("p",{children:a})]}),(0,r.jsxs)("div",{className:"text",children:[(0,r.jsx)("div",{children:"이메일"}),(0,r.jsx)("p",{children:l})]}),(0,r.jsxs)("div",{className:"text",children:[(0,r.jsx)("div",{children:"기 수"}),(0,r.jsx)("p",{children:m})]}),(0,r.jsxs)("div",{className:"text",children:[(0,r.jsx)("div",{children:"상 태"}),(0,r.jsx)("p",{children:c})]}),(0,r.jsxs)("div",{className:"text",children:[(0,r.jsx)("div",{children:"학 과"}),(0,r.jsx)("p",{children:t})]}),(0,r.jsxs)("div",{className:"text",children:[(0,r.jsx)("div",{children:"전화 번호"}),(0,r.jsx)("p",{children:i})]})]})})}},7897:(e,s,a)=>{a.d(s,{A:()=>l}),a(1594);var n=a(6129),r=a(4848);const l=e=>{let{myProb:s,navigate:a}=e;return(0,r.jsxs)("div",{className:"top",children:[(0,r.jsxs)("div",{className:"prob_top",children:[(0,r.jsx)("div",{className:"mypage_btn",children:"내가 푼 문제"}),(0,r.jsxs)("div",{className:"probNum",children:[s.length,"개"]})]}),(0,r.jsx)("div",{className:"myProblem",children:(0,r.jsx)(n.A,{myProb:s,navigate:a})})]})}},9368:(e,s,a)=>{a.d(s,{A:()=>r}),a(1594);var n=a(4848);const r=e=>{let{myFeedback:s,navigate:a}=e;return(0,n.jsx)("div",{className:"FeedList",children:0===s.length?(0,n.jsx)("div",{className:"noFeed",children:"아직 남긴 피드백이 없어요!"}):s.map((e=>(0,n.jsxs)("div",{className:"feeds",children:[(0,n.jsx)("p",{className:"problemId",children:e.answerId}),(0,n.jsxs)("p",{className:"memberGenName",children:[e.memberGen,"기 ",e.memberName]}),(0,n.jsx)("p",{className:"commentContent",onClick:()=>{return s=e.answerId,console.log("problemId: ",s),void a(`/question/${s}`);var s},children:e.commentContent}),(0,n.jsx)("div",{className:1===e.commentPassFail?"btn_success":0===e.commentPassFail?"btn_fail":"btn_state",children:1===e.commentPassFail?"success":0===e.commentPassFail?"fail":e.commentPassFail})]},e.answerId)))})}},6129:(e,s,a)=>{a.d(s,{A:()=>r}),a(1594);var n=a(4848);const r=e=>{let{myProb:s,navigate:a}=e;return(0,n.jsx)("div",{className:"problemList",children:0===s.length?(0,n.jsx)("div",{className:"noProblems",children:"아직 푼 문제가 없어요!"}):s.map((e=>(0,n.jsxs)("div",{className:"problems",children:[(0,n.jsx)("p",{className:"problemId",children:e.problemId}),(0,n.jsx)("p",{className:"problemTitle",onClick:()=>{return s=e.answerId,console.log("problemId: ",s),void a(`/question/${s}`);var s},children:e.problemTitle}),(0,n.jsxs)("p",{className:"finalScore",children:[e.finalScore,"점"]}),(0,n.jsx)("p",{className:"dash",children:"/"}),(0,n.jsxs)("p",{className:"problemScore",children:[e.problemScore,"점"]}),(0,n.jsx)("div",{className:"success"===e.answerState?"btn_success":"fail"===e.answerState?"btn_fail":"btn_state",children:"question"===e.answerState?"질문대기":"comment"===e.answerState?"피드백대기":e.answerState})]},e.answerId)))})}},8116:(e,s,a)=>{a.r(s),a.d(s,{default:()=>b});var n=a(1594),r=a(3719),l=a.n(r);const m=()=>{const[e,s]=(0,n.useState)(null);return(0,n.useEffect)((()=>{(async e=>{const s=`/api/admin/member/${new URL(window.location.href).pathname.split("/")[2]}`;try{const a=(await l().get(s)).data;e({...a,mySolveResponse:a.mySolveResponse||[],myFeedbackResponse:a.myFeedbackResponse||[]})}catch(e){console.error(e)}})(s)}),[]),{userData:e}};var c=a(7976),t=a(7897),i=a(7767),d=a(112);var o=a(3124),h=a(4848);const b=()=>{const{userData:e}=m(),s=(0,i.Zp)();return(0,h.jsx)("div",{className:"content_container",children:(0,h.jsx)("div",{className:"manageuser_container",children:(0,h.jsx)("div",{className:"userlist_wrapper",children:e?(0,h.jsxs)("div",{className:"mypage_content",children:[(0,h.jsxs)("div",{className:"userinfo_container",children:[(0,h.jsx)(c.A,{memberName:e.memberName,memberId:e.memberId,memberEmail:e.memberEmail,memberGen:e.memberGen,memberStatus:e.memberStatus,memberMajor:e.memberMajor,memberPhone:e.memberPhone}),(0,h.jsxs)("div",{className:"manage_btn_container",children:[(0,h.jsx)("button",{className:"levelup_btn",onClick:()=>(async(e,s)=>{const a=`/api/admin/member/${new URL(window.location.href).pathname.split("/")[2]}`,n="신입생"===s?"재학생":"재학생"===s?"관리자":"관리자"===s?"재학생":"";if(window.confirm(`해당 회원을 ${n} 등급으로 변경하시겠습니까?`))try{200===(await l().put(a,{memberStatus:`${n}`})).status?(alert("회원등급이 성공적으로 변경되었습니다."),e("/manageUser")):alert("회원등급 변경에 실패했습니다. 다시 시도해 주세요1.")}catch(e){if(l().isAxiosError(e)&&e.response){const s=e.response.status;403===s?alert("권한이 없습니다. 관리자 계정으로 로그인 해주세요."):404===s?alert("해당 회원을 찾을 수 없습니다. memberId를 확인해 주세요."):alert("서버오류가 발생했습니다.")}else console.error(e),alert("네트워크 오류가 발생했습니다. 다시 시도해 주세요.")}})(s,e.memberStatus),children:"등급변경"}),(0,h.jsx)("button",{className:"btn_deletemem",onClick:()=>(async e=>{const s=`/api/admin/member/${new URL(window.location.href).pathname.split("/")[2]}`;if(window.confirm("정말 해당 회원을 삭제하시겠습니까?"))try{const a=await l().delete(s);console.log("res는용 = ",a),200===a.status&&(alert("회원이 성공적으로 삭제되었습니다."),e("/manageUser"))}catch(e){if(l().isAxiosError(e)&&e.response){const s=e.response.status;403===s?alert("권한이 없습니다. 관리자 계정으로 로그인 해주세요."):404===s?alert("해당 회원을 찾을 수 없습니다. memberId를 확인해 주세요."):alert("회원 삭제에 실패했습니다. 다시 시도해 주세요.")}else console.error(e),alert("네트워크 오류가 발생했습니다. 다시 시도해 주세요.")}})(s),children:"회원 삭제"})]})]}),(0,h.jsxs)("div",{className:"right",children:[(0,h.jsx)(t.A,{myProb:e.mySolveResponse,navigate:s}),(0,h.jsx)(d.A,{myFeedback:e.myFeedbackResponse,navigate:s})]})]}):(0,h.jsx)(o.A,{})})})})}}}]);