"use strict";(self.webpackChunkpes_fe=self.webpackChunkpes_fe||[]).push([[116],{8116:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var r=a(1594),n=(a(1684),a(1083));const t=()=>{const[e,s]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async e=>{const s=`/api/admin/member/${new URL(window.location.href).pathname.split("/")[2]}`;try{const a=(await n.A.get(s)).data;e({...a,mySolveResponse:a.mySolveResponse||[],myFeedbackResponse:a.myFeedbackResponse||[]})}catch(e){console.error(e)}})(s)}),[]),{userData:e}};var m=a(7976),o=a(7897),c=a(7767),i=a(112);var l=a(4848);const d=()=>{const{userData:e}=t(),s=(0,c.Zp)();return(0,l.jsx)("div",{className:"content_container",children:(0,l.jsx)("div",{className:"manageuser_container",children:(0,l.jsx)("div",{className:"userlist_wrapper",children:e?(0,l.jsxs)("div",{className:"mypage_content",children:[(0,l.jsxs)("div",{className:"userinfo_container",children:[(0,l.jsx)(m.A,{memberName:e.memberName,memberId:e.memberId,memberEmail:e.memberEmail,memberGen:e.memberGen,memberStatus:e.memberStatus,memberMajor:e.memberMajor,memberPhone:e.memberPhone}),(0,l.jsxs)("div",{className:"manage_btn_container",children:[(0,l.jsx)("button",{className:"levelup_btn",onClick:()=>(async e=>{const s=`/api/admin/member/${new URL(window.location.href).pathname.split("/")[2]}`;if(window.confirm('해당 회원을 "재학생"으로 등업하시겠습니까?'))try{200===(await n.A.put(s,{memberStatus:"재학생"})).status?(alert("회원이 성공적으로 등업되었습니다."),e("/manageUser")):alert("회원 등업에 실패했습니다. 다시 시도해 주세요1.")}catch(e){if(n.A.isAxiosError(e)&&e.response){const s=e.response.status;403===s?alert("권한이 없습니다. 관리자 계정으로 로그인 해주세요."):404===s?alert("해당 회원을 찾을 수 없습니다. memberId를 확인해 주세요."):alert("회원 등업에 실패했습니다. 다시 시도해 주세요2.")}else console.error(e),alert("네트워크 오류가 발생했습니다. 다시 시도해 주세요.")}})(s),children:"등업"}),(0,l.jsx)("button",{className:"btn_deletemem",onClick:()=>(async e=>{const s=`/api/admin/member/${new URL(window.location.href).pathname.split("/")[2]}`;if(window.confirm("정말 해당 회원을 삭제하시겠습니까?"))try{const a=await n.A.delete(s);console.log("res는용 = ",a),200===a.status&&(alert("회원이 성공적으로 삭제되었습니다."),e("/manageUser"))}catch(e){if(n.A.isAxiosError(e)&&e.response){const s=e.response.status;403===s?alert("권한이 없습니다. 관리자 계정으로 로그인 해주세요."):404===s?alert("해당 회원을 찾을 수 없습니다. memberId를 확인해 주세요."):alert("회원 삭제에 실패했습니다. 다시 시도해 주세요.")}else console.error(e),alert("네트워크 오류가 발생했습니다. 다시 시도해 주세요.")}})(s),children:"회원 삭제"})]})]}),(0,l.jsxs)("div",{className:"right",children:[(0,l.jsx)(o.A,{myProb:e.mySolveResponse,navigate:s}),(0,l.jsx)(i.A,{myFeedback:e.myFeedbackResponse,navigate:s})]})]}):(0,l.jsx)("div",{children:"Loading..."})})})})}}}]);