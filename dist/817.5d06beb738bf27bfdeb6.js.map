{"version":3,"file":"817.5d06beb738bf27bfdeb6.js","mappings":"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","sources":["webpack://pes-fe/./src/components/sign/Copyright.tsx","webpack://pes-fe/./src/hooks/sign/useSignIn.ts","webpack://pes-fe/./src/apis/sign/postLogin.ts","webpack://pes-fe/./src/components/sign/LoginTemp.tsx","webpack://pes-fe/./src/pages/sign/signInPage.tsx"],"sourcesContent":["import { CopyrightProps } from \"model/userType\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Link from \"@mui/material/Link\";\r\n\r\n// 하단 copyright\r\nconst Copyright: React.FC<CopyrightProps> = (props) => {\r\n  return (\r\n    <Typography\r\n      variant=\"body2\"\r\n      color=\"text.secondary\"\r\n      align=\"center\"\r\n      {...props}\r\n    >\r\n      {\"Goto HOME © \"}\r\n      <Link color=\"inherit\" href=\"https://pes23.com/\">\r\n        pes23.com\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default Copyright;\r\n","import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\"; // dispatch 추가\r\nimport postLogin from \"apis/sign/postLogin\";\r\nimport { SignInFormData } from \"model/userType\";\r\nimport { loginAction } from \"stores/actions/userAction\"; // login 액션 추가\r\n\r\n// 로그인 관련 HOOK\r\nconst useSignIn = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch(); // dispatch 초기화\r\n  const [formData, setFormData] = useState<SignInFormData>({\r\n    memberId: \"\",\r\n    memberPw: \"\",\r\n  });\r\n\r\n  // 로그인 폼이 제출될 때 호출\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    // 기본 제출 동작 막기\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const responseData = await postLogin(formData);\r\n      const resultMessage = responseData.message;\r\n      alert(resultMessage);\r\n\r\n      // 로그인 성공 후 Redux 상태 변경\r\n      dispatch(loginAction(formData.memberId)); // 로그인 액션 디스패치\r\n\r\n      navigate(\"/\");\r\n      // window.location.reload(); // 페이지 새로고침\r\n    } catch (error: unknown) {\r\n      if (error instanceof Error) {\r\n        alert(error.message);\r\n      } else {\r\n        alert(\"알 수 없는 오류가 발생했습니다.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  //입력필드 값 변경될때마다 호출\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData({\r\n      // formData복사, 변경된 필드만 업데이트\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  return { formData, handleSubmit, handleInputChange };\r\n};\r\nexport default useSignIn;\r\n","import axios from \"axios\";\r\nimport { SignInFormData } from \"model/userType\";\r\n\r\nconst postLogin = async (formData: SignInFormData) => {\r\n  const uri = \"/api/signin\";\r\n\r\n  // 로그인 요청 api\r\n  try {\r\n    const res = await axios.post<{ message: string }>(uri, formData, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n    return res.data;\r\n  } catch (error: unknown) {\r\n    if (axios.isAxiosError(error)) {\r\n      if (error.response && error.response.status === 401) {\r\n        throw new Error(\"일치하는 정보가 없습니다\");\r\n      } else if (error.response) {\r\n        throw new Error(`${error.response.status} ${error.response.statusText}`);\r\n      }\r\n    }\r\n    throw new Error(\"네트워크 오류가 발생했습니다\");\r\n  }\r\n};\r\n\r\nexport default postLogin;\r\n","// MUI이용 로그인 form\r\nimport React from \"react\";\r\nimport logo from \"assets/images/sign_logo.webp\";\r\nimport Copyright from \"./Copyright\";\r\nimport useSignIn from \"hooks/sign/useSignIn\";\r\n\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport CssBaseline from \"@mui/material/CssBaseline\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Link from \"@mui/material/Link\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Container from \"@mui/material/Container\";\r\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\r\n\r\nconst defaultTheme = createTheme();\r\n\r\nconst LoginTemp: React.FC = () => {\r\n  const { formData, handleSubmit, handleInputChange } = useSignIn();\r\n\r\n  return (\r\n    <ThemeProvider theme={defaultTheme}>\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <Box\r\n          sx={{\r\n            marginTop: 8,\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Avatar sx={{ m: 1, width: 56, height: 56 }} src={logo} />\r\n\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Login\r\n          </Typography>\r\n          \r\n          <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 1 }}>\r\n            <TextField\r\n              margin=\"normal\"\r\n              value={formData.memberId}\r\n              onChange={handleInputChange}\r\n              fullWidth\r\n              id=\"memberId\"\r\n              label=\"ID\"\r\n              name=\"memberId\"\r\n              autoComplete=\"memberId\"\r\n              autoFocus\r\n              required\r\n              placeholder=\"학번을 입력해주세요\"\r\n            />\r\n            <TextField\r\n              margin=\"normal\"\r\n              value={formData.memberPw}\r\n              onChange={handleInputChange}\r\n              fullWidth\r\n              name=\"memberPw\"\r\n              label=\"password\"\r\n              type=\"password\"\r\n              id=\"memberPw\"\r\n              autoComplete=\"password\"\r\n              required\r\n              placeholder=\"비밀번호를 입력해주세요\"\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{ mt: 3, mb: 2 }}\r\n            >\r\n              Login\r\n            </Button>\r\n            <Grid container>\r\n              <Grid item xs></Grid>\r\n              <Grid item>\r\n                <Link href=\"/signup\" variant=\"body2\">\r\n                  {\"아이디가 없으신가요? 회원가입\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Box>\r\n        <Copyright sx={{ mt: 8, mb: 4 }} />\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default LoginTemp;\r\n","import React from \"react\";\r\nimport \"styles/css/intro.css\";\r\nimport LoginTemp from \"components/sign/LoginTemp\";\r\n\r\nconst Signin: React.FC = () => {\r\n  return (\r\n    <div className=\"sign-wrapper\">\r\n      <LoginTemp />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n"],"names":["props","_jsxs","Typography","variant","color","align","children","_jsx","Link","href","Date","getFullYear","useSignIn","navigate","useNavigate","dispatch","useDispatch","formData","setFormData","useState","memberId","memberPw","handleSubmit","async","e","preventDefault","resultMessage","axios","headers","data","error","response","status","Error","statusText","postLogin","message","alert","loginAction","handleInputChange","target","name","value","defaultTheme","createTheme","LoginTemp","ThemeProvider","theme","Container","component","maxWidth","CssBaseline","Box","sx","marginTop","display","flexDirection","alignItems","Avatar","m","width","height","src","logo","onSubmit","mt","TextField","margin","onChange","fullWidth","id","label","autoComplete","autoFocus","required","placeholder","type","Button","mb","Grid","container","item","xs","Copyright","Signin","className"],"sourceRoot":""}