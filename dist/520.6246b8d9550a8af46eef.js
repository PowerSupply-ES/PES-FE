"use strict";(self.webpackChunkpes_fe=self.webpackChunkpes_fe||[]).push([[520],{2394:(e,s,t)=>{t.d(s,{A:()=>n});var a=t(3719),l=t.n(a);const n=async e=>{try{return(await l().get(`/api2/problemtitle/${e}`,{withCredentials:!0})).data}catch(e){console.log(e)}console.log("problemId:",e)}},6385:(e,s,t)=>{t.d(s,{$2:()=>d,OE:()=>i,i0:()=>c,zg:()=>r});var a=t(1594),l=t.n(a),n=t(4848);const r=e=>e?e.replace("T"," "):"",i=()=>{window.history.back()},c=e=>e.split("\n").map(((e,s)=>(0,n.jsxs)(l().Fragment,{children:[e,(0,n.jsx)("br",{})]},s))),d=e=>e.split("\n\n").map(((e,s)=>(0,n.jsxs)("span",{children:[e,(0,n.jsx)("br",{})]},s)))},947:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(1594),l=t(3719),n=t.n(l);const r=e=>{const[s,t]=(0,a.useState)(null),l=(0,a.useCallback)((async()=>{try{const s=await(async e=>{try{const{data:s}=await n().get(`/api2/problem/${e}`,{withCredentials:!0});return s}catch(e){console.log(e)}})(e);t(s)}catch(e){console.error(e)}}),[e]);return(0,a.useEffect)((()=>{l()}),[l]),s};var i=t(2394);var c=t(7767);const d=e=>{const s=(0,c.Zp)(),t=(0,a.useRef)(""),[l,r]=(0,a.useState)(null);return{detail:l,textHandler:function(e){t.current=e},submitCode:async()=>{if(t.current){const{data:a,status:l}=await(async(e,s)=>{try{const t=await n().post(`/api2/submit/${s}`,{code:e,problemId:s});return{data:t.data,status:t.status}}catch(e){return console.log(e),n().isAxiosError(e)?{status:e.response?e.response.status:500}:{status:500}}})(t.current,e);a?201===l?(console.log(a),alert("문제를 맞혔습니다! 질의응답 페이지로 이동합니다."),sessionStorage.setItem("problemId",e.toString()),s(`/question/${a.answer_id}`)):202===l?(r(a.detail),alert("문제를 틀렸습니다! 다시 풀어보세요.")):500===l&&alert(`server가 응답하지 않네요! 관리자에게 상황을 공유해주세요! : ${a.message}`):alert("오류!")}else alert("코드를 입력해주세요!")}}},o=e=>{const s=(e=>{const[s,t]=(0,a.useState)(null),l=(0,a.useCallback)((async()=>{try{const s=await(0,i.A)(e);t(s||null)}catch(e){console.error(e),t(null)}}),[e]);return(0,a.useEffect)((()=>{l()}),[l]),s})(e),t=r(e),{textHandler:l,submitCode:n,detail:c}=d(e);return{title:s,problem:t,detail:c,isLogin:sessionStorage.getItem("status"),textHandler:l,submitCode:n}}},520:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var a=t(1594),l=t.n(a),n=t(8246),r=t(947),i=t(6385),c=t(4848);const d=l().lazy((()=>Promise.all([t.e(490),t.e(997),t.e(224),t.e(472),t.e(500),t.e(420),t.e(424),t.e(517),t.e(515),t.e(247),t.e(43),t.e(650),t.e(546),t.e(712),t.e(282),t.e(855),t.e(673),t.e(825),t.e(642),t.e(722),t.e(765),t.e(871),t.e(3),t.e(102)]).then(t.bind(t,6102)))),o=()=>{let e=new URL(window.location.href),s=Number(e.pathname.split("/")[2]);const{title:t,problem:o,detail:u,isLogin:p,textHandler:m,submitCode:h}=(0,r.A)(s);return(0,c.jsx)("div",{children:t&&o?(0,c.jsxs)(n.f,{state:"null",children:[(0,c.jsx)("div",{className:"problem_header",children:(0,c.jsxs)("div",{className:"problem_group",children:[(0,c.jsxs)("div",{className:"problem_id",children:["문제",s]}),(0,c.jsx)("div",{className:"header_title",children:t?.problemTitle}),(0,c.jsx)("div",{className:"header_answer_state",children:"미완료"})]})}),(0,c.jsxs)("div",{className:"problem_section",children:[(0,c.jsxs)("div",{className:"content_container",children:[(0,c.jsxs)("div",{className:"top",style:{whiteSpace:"pre"},children:[(0,c.jsx)("p",{className:"underline",children:"문제"}),(0,c.jsx)("div",{className:"prob_text",children:o?.problemContent&&(0,i.i0)(o.problemContent)})]}),(0,c.jsxs)("div",{className:"bottom",children:[(0,c.jsxs)("div",{className:"sample_inputs",style:{whiteSpace:"pre"},children:[(0,c.jsx)("p",{className:"underline",children:"Sample Inputs"}),(0,c.jsx)("div",{className:"input_text",children:o?.sampleInputs&&o.sampleInputs.map(((e,s)=>(0,c.jsx)(l().Fragment,{children:(0,i.$2)(e)},s)))})]}),(0,c.jsxs)("div",{className:"sample_outputs",style:{whiteSpace:"pre"},children:[(0,c.jsx)("p",{className:"underline",children:"Sample Outputs"}),(0,c.jsx)("div",{className:"output_text",children:o?.sampleOutputs&&o.sampleOutputs.map(((e,s)=>(0,c.jsx)(l().Fragment,{children:(0,i.$2)(e)},s)))})]})]})]}),(0,c.jsx)("div",{className:"code_section",children:p?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.Suspense,{fallback:(0,c.jsx)("div",{children:"Loading Code Editor..."}),children:(0,c.jsx)(d,{code:"",onChange:m,readOnly:!1})}),null!=u&&(0,c.jsxs)("div",{className:"detail_container",children:[(0,c.jsx)("h3",{children:"틀린 이유"}),(0,c.jsx)("div",{className:"detail_content",children:u})]})]}):(0,c.jsx)("textarea",{disabled:!0,className:"code_input",placeholder:"로그인 후 이용해주세요."})})]}),(0,c.jsx)("button",{className:p?"submit_button":"submit_button disabled",onClick:()=>{p&&window.confirm("수정이 불가능합니다. 정말 제출하시겠습니까?")&&h()},children:"제출"})]}):(0,c.jsx)("div",{className:"loading",children:"Loading..."})})}}}]);