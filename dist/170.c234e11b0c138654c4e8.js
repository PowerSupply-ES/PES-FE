"use strict";(self.webpackChunkpes_fe=self.webpackChunkpes_fe||[]).push([[170],{2394:(e,s,t)=>{t.d(s,{A:()=>n});var a=t(1083);const n=async e=>{try{return(await a.A.get(`/api2/problemtitle/${e}`,{withCredentials:!0})).data}catch(e){console.log(e)}console.log("problemId:",e)}},6385:(e,s,t)=>{t.d(s,{$2:()=>i,OE:()=>c,i0:()=>o,zg:()=>r});var a=t(1594),n=t.n(a),l=t(4848);const r=e=>e?e.replace("T"," "):"",c=()=>{window.history.back()},o=e=>e.split("\n").map(((e,s)=>(0,l.jsxs)(n().Fragment,{children:[e,(0,l.jsx)("br",{})]},s))),i=e=>e.split("\n\n").map(((e,s)=>(0,l.jsxs)("span",{children:[e,(0,l.jsx)("br",{})]},s)))},6102:(e,s,t)=>{t.d(s,{A:()=>l}),t(1594);var a=t(470),n=(t(8940),t(7826),t(1289),t(4848));const l=e=>{let{code:s,onChange:t,readOnly:l}=e;return(0,n.jsx)(a.Ay,{mode:"c_cpp",theme:"monokai",onChange:e=>{t(e)},readOnly:l,value:s,fontSize:16,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:4,cursorWidth:2},style:{width:"90%",height:"100%"},editorProps:{$blockScrolling:!0}})}},947:(e,s,t)=>{t.d(s,{A:()=>i});var a=t(1594),n=t(1083);const l=e=>{const[s,t]=(0,a.useState)(null),l=(0,a.useCallback)((async()=>{try{const s=await(async e=>{try{const{data:s}=await n.A.get(`/api2/problem/${e}`,{withCredentials:!0});return s}catch(e){console.log(e)}})(e);t(s)}catch(e){console.error(e)}}),[e]);return(0,a.useEffect)((()=>{l()}),[l]),s};var r=t(2394);var c=t(7767);const o=e=>{const s=(0,c.Zp)(),t=(0,a.useRef)(""),[l,r]=(0,a.useState)(null);return{detail:l,textHandler:function(e){t.current=e},submitCode:async()=>{if(t.current){const{data:a,status:l}=await(async(e,s)=>{try{const t=await n.A.post(`/api2/submit/${s}`,{code:e,problemId:s});return{data:t.data,status:t.status}}catch(e){return console.log(e),n.A.isAxiosError(e)?{status:e.response?e.response.status:500}:{status:500}}})(t.current,e);a?201===l?(console.log(a),alert("문제를 맞혔습니다! 질의응답 페이지로 이동합니다."),sessionStorage.setItem("problemId",e.toString()),s(`/question/${a.answer_id}`)):202===l?(r(a.detail),alert("문제를 틀렸습니다! 다시 풀어보세요.")):500===l&&alert(`server가 응답하지 않네요! 관리자에게 상황을 공유해주세요! : ${a.message}`):alert("오류!")}else alert("코드를 입력해주세요!")}}},i=e=>{const s=(e=>{const[s,t]=(0,a.useState)(null),n=(0,a.useCallback)((async()=>{try{const s=await(0,r.A)(e);t(s||null)}catch(e){console.error(e),t(null)}}),[e]);return(0,a.useEffect)((()=>{n()}),[n]),s})(e),t=l(e),{textHandler:n,submitCode:c,detail:i}=o(e);return{title:s,problem:t,detail:i,isLogin:sessionStorage.getItem("status"),textHandler:n,submitCode:c}}},8170:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var a=t(1594),n=t.n(a),l=t(7767),r=t(1083);const c=(e,s,t)=>{const[n,l]=(0,a.useState)(""),[c,o]=(0,a.useState)(""),[i,d]=(0,a.useState)(null),[u,m]=(0,a.useState)([]),[h,p]=(0,a.useState)(0),x=(0,a.useCallback)((async()=>{try{const s=await(async e=>{try{const{data:s}=await r.A.get(`/api2/question/${e}`,{withCredentials:!0});return s.code}catch(e){throw console.log(e),e}})(e);null!=s&&o(s)}catch(e){console.log(e)}}),[e]),g=(0,a.useCallback)((async()=>{try{const s=await(async e=>{try{return(await r.A.get(`/api/answer/${e}`,{withCredentials:!0})).data}catch(e){throw console.log(e),e}})(e);d(s),l(s.answerState||"")}catch(e){console.log(e)}}),[e]),b=(0,a.useCallback)((async()=>{try{const s=await(async e=>{try{return(await r.A.get(`/api/comment/${e}`,{withCredentials:!0})).data}catch(e){throw console.log(e),e}})(e);let t=0;m(s);for(let e=0;e<s.length;e++)1===s[e].commentPassFail&&t++;p(t)}catch(e){console.log(e)}}),[e]);return(0,a.useEffect)((()=>{x(),g()}),[x,g]),(0,a.useEffect)((()=>{"comment"!==n&&"success"!==n&&"fail"!==n||b()}),[n,b]),{code:c,qnA:i,state:n,feedbacks:u,passCount:h,getCodes:x,getQuestions:g,postAnswer:async(s,t)=>{try{await(async(e,s,t)=>{try{await r.A.post(`/api/answer/${e}`,{answerFst:s,answerSec:t})}catch(e){throw console.error(e),e}})(e,s,t),alert("성공적으로 답변을 등록했습니다."),window.location.reload()}catch(e){if(r.A.isAxiosError(e)){const s=e.response?e.response.status:null;400===s?alert("이미 답변이 등록되어 있습니다."):403===s?alert("접근할 수 있는 사용자가 아닙니다."):console.log("알 수 없는 서버 오류가 발생했습니다.",e)}else console.log("예상하지 못한 오류가 발생했습니다.",e)}},postFeedback:async(t,a)=>{try{const n=await(async(e,s,t)=>{try{return await r.A.post(`/api/comment/${e}`,{comment:s,commentPassFail:t})}catch(e){throw console.error(e),e}})(e,t,a);b(),s(n.status),window.location.reload()}catch(e){if(r.A.isAxiosError(e)){const s=e.response?.status;403===s?alert("권한이 없습니다!"):400===s?alert("이미 댓글을 달았어요!"):console.log("알 수 없는 오류가 발생했습니다.",e)}else console.log("예상하지 못한 오류가 발생했습니다.",e)}},setCode:o}};var o=t(6102),i=t(6385),d=t(4848);const u=e=>{let{FstHandler:s,SecHandler:t,code:a,qnA:n,setCode:l,problemId:r}=e;return(0,d.jsxs)("div",{className:"code_question_container",children:[(0,d.jsx)("div",{className:"code_container",children:(0,d.jsx)(o.A,{onChange:l,readOnly:!0,code:a})}),(0,d.jsx)("div",{className:"question_container",children:"question"===n.answerState?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"question_layout",children:[(0,d.jsxs)("div",{className:"question_header",children:[(0,d.jsx)("div",{className:"question_id",children:"질문 1"}),(0,d.jsx)("div",{className:"header_title",children:n.questionContentFst})]}),(0,d.jsx)("textarea",{className:"answer_input",onChange:s})]}),(0,d.jsxs)("div",{className:"question_layout",children:[(0,d.jsxs)("div",{className:"question_header",children:[(0,d.jsx)("div",{className:"question_id",children:"질문 2"}),(0,d.jsx)("div",{className:"header_title",children:n.questionContentSec})]}),(0,d.jsx)("textarea",{className:"answer_input",onChange:t})]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"question_header",children:[(0,d.jsx)("div",{className:"question_id",children:"질문 1"}),(0,d.jsx)("div",{className:"header_title",children:n.questionContentFst})]}),(0,d.jsx)("div",{className:"answer_input display",children:(0,i.i0)(n.answerFst)}),(0,d.jsxs)("div",{className:"question_header",children:[(0,d.jsx)("div",{className:"question_id",children:"질문 2"}),(0,d.jsx)("div",{className:"header_title",children:n.questionContentSec})]}),(0,d.jsx)("div",{className:"answer_input display",children:(0,i.i0)(n.answerSec)})]})})]})};var m=t(947),h=t(8246);const p=e=>{let{state:s,navigate:t,problemId:l}=e;const[r,c]=(0,a.useState)(!1),{title:o,problem:u}=(0,m.A)(l??-1),p=o?o.problemTitle:"제목 없음",x=u?u.problemContent:"문제 내용 없음",g=u?u.sampleInputs:[],b=u?u.sampleOutputs:[];return null===l||-1===l?(0,d.jsx)(h.f,{className:"problem_header_section",state:s,children:(0,d.jsx)("div",{className:"problem_header",children:(0,d.jsxs)("div",{className:"problem_group",children:[(0,d.jsx)("div",{className:"problem_id",children:"알수없음"}),(0,d.jsx)("div",{className:"header_title",children:"제목 없음"}),(0,d.jsx)("div",{className:"header_answer_state",children:"알수없음"})]})})}):(0,d.jsxs)(h.f,{className:"problem_header_section",state:s,children:[(0,d.jsx)("div",{className:"problem_header",children:(0,d.jsxs)("div",{className:"problem_group",children:[(0,d.jsxs)("div",{className:"problem_id",children:["문제",null!==l?l:"정보 없음"]}),(0,d.jsx)("div",{className:"header_title",children:p}),(0,d.jsx)("div",{className:"header_answer_state",children:"success"===s?"성공":"fail"===s?"실패":"미완료"})]})}),(0,d.jsxs)("div",{className:"button_group",children:[(0,d.jsxs)("button",{className:"button_problem",onClick:()=>{c((e=>!e))},children:["문제보기",r&&(0,d.jsxs)("div",{className:"dropdown_content",children:[(0,d.jsx)("div",{className:"content",style:{whiteSpace:"pre"},children:(0,i.i0)(x)}),(0,d.jsxs)("div",{className:"sample_inputs",children:[(0,d.jsx)("h3",{children:"Sample Inputs:"}),g.map(((e,s)=>(0,d.jsx)(n().Fragment,{children:(0,i.i0)(e)},s)))]}),(0,d.jsxs)("div",{className:"sample_outputs",style:{whiteSpace:"pre"},children:[(0,d.jsx)("h3",{children:"Sample Outputs:"}),b.map(((e,s)=>(0,d.jsx)(n().Fragment,{children:(0,i.i0)(e)},s)))]})]})]}),("success"===s||"fail"===s)&&(0,d.jsx)("button",{className:"button_solution",onClick:()=>t(`/solution/${l}`),children:"다른 풀이 보기"})]})]})};var x=t(6553);const g=e=>{let{navigate:s,code:t,qnA:n,state:l,setCode:r,textFst:c,handleTextFstChange:o,postAnswer:i}=e;const m=Number(sessionStorage.getItem("problemId")),[h,g]=(0,a.useState)("");return(0,d.jsxs)(x.k,{className:"problem_answer_section",children:[(0,d.jsx)(p,{state:l,navigate:s,problemId:m}),"  ",n&&(0,d.jsx)(u,{FstHandler:o,SecHandler:e=>{g(e.target.value)},code:t,qnA:n,setCode:r,problemId:m}),"question"===l&&(!n.answerFst||!n.answerSec)&&(0,d.jsx)("div",{className:"btn_container",children:(0,d.jsx)("button",{className:"button answer",onClick:()=>{c&&h?window.confirm("수정이 불가능합니다. 정말 제출하시겠습니까?")&&i(c,h):alert("내용을 입력해주세요!")},children:"답변하기"})})]})},b=e=>{let{navigate:s,state:t,textFst:n,handleTextFstChange:l,memberStatus:r,feedbacks:c,passCount:o,postFeedback:u}=e;const[m,h]=(0,a.useState)("rgba(4, 202, 0, 0.6)"),[p,g]=(0,a.useState)("rgba(244, 117, 117, 0.6)"),[b,j]=(0,a.useState)(null),v=e=>{j(e)},w=c?Object.values(c):[];return(0,d.jsxs)(x.k,{className:"feedback_section_1",children:[(0,d.jsx)("hr",{style:{height:2,border:"none",backgroundColor:"gray",marginTop:100}}),(0,d.jsxs)("div",{className:"feedback_section",children:["신입생"===r&&w.length<=0&&"comment"===t&&(0,d.jsx)("div",{className:"feedback_waiting_bar",onClick:()=>s("/"),children:"피드백을 기다리는 중입니다..."}),w.length>0&&w.map(((e,s)=>(0,d.jsxs)("div",{className:"feedback_container",children:[1===e.commentPassFail?(0,d.jsx)("div",{className:"feedback_result_pass",children:"PASS"}):(0,d.jsx)("div",{className:"feedback_result_fail",children:"FAIL"}),(0,d.jsxs)("div",{className:"question_header",children:[(0,d.jsx)("div",{className:"feedback_index",children:`Feedback ${s+1}`}),(0,d.jsxs)("div",{className:"feedback_writer",children:[e.writerGen,"기"]}),(0,d.jsx)("div",{className:"feedback_writer",children:e.writerName})]}),(0,d.jsx)("div",{className:"feedback_content display",children:(0,i.i0)(e.commentContent)})]},s))),("재학생"===r||"관리자"===r)&&w.length<=1&&"comment"===t&&(0,d.jsxs)("div",{className:"feed_section",children:[(0,d.jsx)("div",{className:"question_header",children:(0,d.jsx)("div",{className:"feedback_index",children:"Feedback"})}),(0,d.jsx)("textarea",{className:"feedback_content input",placeholder:"피드백을 입력해주세요.",onChange:l}),(0,d.jsxs)("div",{className:"feedback_select_section",children:[(0,d.jsxs)("div",{className:"button_container",children:[(0,d.jsx)("div",{className:"select_button pass",style:{color:m},onClick:()=>{v("1"),g("rgba(244, 117, 117, 0.6)"),h("rgba(4, 202, 0, 1)")},children:"PASS"}),(0,d.jsx)("div",{className:"select_button fail",style:{color:p},onClick:()=>{v("0"),h("rgba(4, 202, 0, 0.6)"),g("rgba(244, 117, 117, 1)")},children:"FAIL"})]}),(0,d.jsx)("p",{className:"select_comment",children:"PASS 혹은 FAIL을 선택해주세요."})]}),(0,d.jsx)("button",{className:"feedback_button",onClick:()=>{n&&n?b?window.confirm("수정이 불가능합니다. 정말 제출하시겠습니까?")&&u(n,parseInt(b,10)):alert("통과 여부를 선택해주세요!"):alert("내용을 입력해주세요!")},children:"답변하기"})]})]}),w.length>=2&&(0,d.jsxs)("div",{className:"result_container",children:[(0,d.jsx)("div",{className:o>=1&&w.length>1?"result success":"result fail",onClick:()=>s("/"),children:o>=1&&w.length>1?`축하합니다! 성공적으로 통과했습니다!  ( ${o}/2 )`:`질문테스트에 통과하지 못했습니다.  ( ${o}/2 )`}),(0,d.jsx)("p",{children:"클릭시 홈화면으로 이동합니다"})]})]})},j=()=>{const e=(0,l.Zp)();let s=new URL(window.location.href),t=Number(s.pathname.split("/")[2]);console.log("answerId= ",t);Number(sessionStorage.getItem("problemId"));const[n,r]=(0,a.useState)(""),o=e=>{r(e.target.value),console.log("e.target.value = ",e.target.value)},{code:i,qnA:u,state:m,feedbacks:h,passCount:p,postFeedback:x,postAnswer:j,setCode:v}=c(t,(e=>{400===e?alert("이미 댓글을 달았습니다."):403===e&&alert("접근할 수 있는 사용자가 아닙니다.")})),w=sessionStorage.getItem("memberStatus");return(0,a.useEffect)((()=>{null===w&&(alert("풀이 열람 권한이 없습니다!"),e(-1))}),[w,u,e]),null===u?(0,d.jsx)(d.Fragment,{children:"Loading..."}):(0,d.jsx)("div",{className:"success"===m?"successPage":"fail"===m?"failPage":"nonePage",children:(0,d.jsx)("div",{children:u&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g,{navigate:e,code:i,qnA:u,state:m,setCode:v,textFst:n,handleTextFstChange:o,postAnswer:j}),(0,d.jsx)(b,{navigate:e,memberStatus:w,feedbacks:h,passCount:p,state:m,postFeedback:x,textFst:n,handleTextFstChange:o})]})})})}},1237:(e,s,t)=>{t.d(s,{A:()=>c});var a=t(1601),n=t.n(a),l=t(6314),r=t.n(l)()(n());r.push([e.id,'@charset "UTF-8";\n.App {\n  text-align: center;\n  background-color: #e9e9eb;\n}\n\n:root {\n  --Font1: "Pretendard-Regular";\n}\n\n@font-face {\n  font-family: "Pretendard-Regular";\n  src: url("https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff") format("woff");\n  font-weight: 400;\n  font-style: normal;\n}\n/* -----공통요소----- */\n* {\n  list-style-type: none;\n  text-decoration: none;\n  margin: 0px;\n  padding: 0px;\n}\n\nbutton:hover {\n  cursor: pointer;\n}\n\n/* question페이지에서 fail/pass에 따른 배경화면 변화 */\n.failPage {\n  background-color: #f8e7e7;\n  padding: 10px 0 140px;\n  margin-bottom: -300px;\n}\n\n.successPage {\n  background-color: #ebebfc;\n  padding: 10px 0 140px;\n  margin-bottom: -300px;\n}\n\n.nonePage {\n  background-color: #e9e9eb;\n  padding: 10px 0 140px;\n  margin-bottom: -300px;\n}',""]);const c=r},8940:(e,s,t)=>{var a=t(5072),n=t.n(a),l=t(7825),r=t.n(l),c=t(7659),o=t.n(c),i=t(5056),d=t.n(i),u=t(540),m=t.n(u),h=t(1113),p=t.n(h),x=t(1237),g={};g.styleTagTransform=p(),g.setAttributes=d(),g.insert=o().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=m(),n()(x.A,g),x.A&&x.A.locals&&x.A.locals}}]);