"use strict";(self.webpackChunkpes_fe=self.webpackChunkpes_fe||[]).push([[792],{8807:(e,s,t)=>{t.d(s,{A:()=>i});var n=t(3719),a=t.n(n),r=t(1468),l=t(8425);const i=async e=>{const s=(0,r.wA)();console.log("logout!!");try{const t=await a().post("/api/logout",{headers:{"Content-Type":"application/json"}});s((0,l.Zm)()),alert(t.data.message),e("/"),window.location.reload()}catch(s){a().isAxiosError(s)?s.response?(console.error("로그아웃 실패:",s.response.status,s.response.statusText),alert(`로그아웃 실패: 서버 응답 에러 (${s.response.status})`),e("/")):s.request?(console.error("로그아웃 실패: 요청이 실패했습니다."),alert("로그아웃 실패: 서버 응답 없음.")):(console.error("로그아웃 실패:",s.message),alert("로그아웃 실패: 요청 설정 에러.")):(console.error("로그아웃 실패 (일반 에러):",s.message),alert("로그아웃 실패: 알 수 없는 오류가 발생했습니다."))}}},3124:(e,s,t)=>{t.d(s,{A:()=>l});var n=t(3113),a=t(1250),r=t(4848);const l=()=>(0,r.jsx)(i,{children:(0,r.jsx)(n.A,{color:"#a1d2fa",cssOverride:{},height:15,loading:!0,margin:2,radius:2,speedMultiplier:1,width:5})}),i=a.Ay.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100vh;
  margin: auto;
`},8398:(e,s,t)=>{t.d(s,{IU:()=>Z,rm:()=>v,Ag:()=>P,w2:()=>l});var n=t(1594),a=t(7767),r=t(4848);const l=e=>{let{memberData:s}=e;const t=(0,a.Zp)();return(0,r.jsx)(r.Fragment,{children:s.map((e=>(0,r.jsxs)("ul",{className:"list_wrapper",children:[(0,r.jsx)("li",{className:"신입생"===e.memberStatus?"title_state_new":"재학생"===e.memberStatus?"title_state_old":"관리자"===e.memberStatus?"title_state_manage":"",children:e.memberStatus}),(0,r.jsx)("li",{className:"title_name",children:e.memberName}),(0,r.jsx)("li",{className:"title_stunum",children:e.memberId}),(0,r.jsx)("li",{className:"title_studep",children:e.memberMajor}),(0,r.jsx)("li",{className:"title_none",children:(0,r.jsx)("button",{className:"info_btn",onClick:()=>{return s=e.memberId,sessionStorage.setItem("memberId",s),void t(`/manageUser/${s}`);var s},children:"정보"})})]},e.memberId)))})};var i=t(7465),o=t(4090),c=t(7211),d=t(7873),x=t(2241),m=t(815),h=t(785),p=t(6204),j=t(357),u=t(4007),b=t(5948);const g=[{text:"회원 관리",icon:(0,r.jsx)(j.A,{}),path:"/manageUser"},{text:"문제 관리",icon:(0,r.jsx)(u.A,{}),path:"/manageProb"},{text:"피드백 관리",icon:(0,r.jsx)(p.A,{}),path:"/manageFeed"}],y=[{text:"Home",icon:(0,r.jsx)(h.A,{}),path:"/"},{text:"About",icon:(0,r.jsx)(b.A,{})}];function v(){const e=(0,a.Zp)(),s=(0,a.zy)();return(0,r.jsxs)(m.A,{sx:{flexGrow:1,p:1,justifyContent:"space-between"},children:[(0,r.jsx)(i.A,{dense:!0,children:g.map(((t,n)=>(0,r.jsx)(o.Ay,{disablePadding:!0,sx:{display:"block"},children:(0,r.jsxs)(c.A,{selected:s.pathname===t.path,sx:{minHeight:52,px:2},onClick:()=>{t.path&&e(t.path)},children:[(0,r.jsx)(d.A,{children:t.icon}),(0,r.jsx)(x.A,{primary:t.text})]})},n)))}),(0,r.jsx)(i.A,{dense:!0,children:y.map(((t,n)=>(0,r.jsx)(o.Ay,{disablePadding:!0,sx:{display:"block"},children:(0,r.jsxs)(c.A,{selected:s.pathname===t.path,sx:{minHeight:52,px:2},onClick:()=>{t.path&&e(t.path)},children:[(0,r.jsx)(d.A,{children:t.icon}),(0,r.jsx)(x.A,{primary:t.text})]})},n)))})]})}var A=t(8807),f=t(1848),N=t(1347),w=t(1543),S=t(8708),k=t(3896),z=t(1431),_=t(2249),C=t(6721),I=t(7130),q=t(5174);const E=(0,f.Ay)(k.A)({margin:"2px 0"});function P(){const e=(0,a.Zp)(),[s,t]=(0,n.useState)(null),l=Boolean(s),i=()=>{t(null)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z,{"aria-label":"Open menu",onClick:e=>{t(e.currentTarget)},sx:{borderColor:"transparent"},children:(0,r.jsx)(q.A,{})}),(0,r.jsxs)(S.A,{anchorEl:s,id:"menu",open:l,onClose:i,onClick:i,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},sx:{[`& .${_.A.root}`]:{padding:"4px"},[`& .${z.A.root}`]:{padding:0},[`& .${N.A.root}`]:{margin:"4px -4px"}},children:[(0,r.jsx)(E,{onClick:i,children:"Add another account"}),(0,r.jsx)(w.A,{}),(0,r.jsxs)(E,{onClick:()=>(0,A.A)(e),sx:{[`& .${C.A.root}`]:{ml:"auto",minWidth:0}},children:[(0,r.jsx)(x.A,{children:"Logout"}),(0,r.jsx)(d.A,{children:(0,r.jsx)(I.A,{fontSize:"small"})})]})]})]})}var O=t(2970),T=t(5723),G=t(1641);function Z(e){let{showBadge:s=!1,...t}=e;return(0,r.jsx)(O.A,{color:"error",variant:"dot",invisible:!s,sx:{[`& .${T.A.badge}`]:{right:2,top:2}},children:(0,r.jsx)(G.A,{size:"small",...t})})}},619:(e,s,t)=>{var n=t(5338),a=t(1594),r=t.n(a),l=t(7767),i=t(1468);var o=t(1716),c=t(8782),d=t(4519),x=t(8161),m=t(9823),h=t(423),p=t(4848);const j=(0,o.A)(),u=(e,s)=>({flex:"initial",fontSize:"26px",color:e===s?"primary.main":"inherit","&::after":{content:'""',display:e===s?"block":"none",height:"2.5px",borderTopLeftRadius:"3px",borderTopRightRadius:"3px",backgroundColor:"primary.main",marginTop:"8px"}}),b=()=>{const{index:e,toggleTab:s}=(()=>{const e=(0,l.zy)(),s=(0,l.Zp)(),[t,n]=(0,a.useState)(0);return(0,a.useEffect)((()=>{"/"===e.pathname?n(0):"/list"===e.pathname?n(1):"/notice"===e.pathname?n(2):n(0)}),[e.pathname,t]),{index:t,toggleTab:e=>{n(e),console.log("value = ",e),1===e?s("/list"):2===e&&s("/notice")}}})();return(0,p.jsxs)(c.A,{theme:j,children:[(0,p.jsx)(d.Ay,{}),(0,p.jsx)(x.A,{sx:{flexGrow:1,mt:2,overflow:"hidden"},children:(0,p.jsxs)(m.A,{"aria-label":"Pipeline",value:e,onChange:(e,t)=>{if(null!=t){const e="number"==typeof t?t:parseInt(t,10);isNaN(e)||s(e)}},sx:{display:"flex",justifyContent:"flex-start",pt:1},children:[(0,p.jsx)(h.A,{label:"문제",value:1,sx:u(e,1)}),(0,p.jsx)(h.A,{label:"공지사항",value:2,sx:u(e,2)})]})})]})},g=()=>{const e=(0,l.Zp)();return(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("a",{className:"logout",href:"/signin",style:{textDecoration:"none",color:"#555555"},children:"로그인"}),(0,p.jsxs)("div",{className:"navbar",children:[(0,p.jsx)("p",{className:"logo",onClick:()=>e("/"),children:"PES"}),(0,p.jsx)(b,{})]})]})};var y=t(9197),v=t(8807),A=t(3719),f=t.n(A),N=t(8425);const w=()=>{const e=(0,l.Zp)(),[s,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)({memberName:"",memberScore:0,memberStatus:"",memberGen:0,hasNewNotices:!1});return(0,a.useEffect)((()=>{(async e=>{let{navigate:s,setMemberData:t}=e;const n=(0,i.wA)(),a=sessionStorage.getItem("memberEmail");try{const e=(await f().get("/api/exp",{params:{memberEmail:a}})).data;t(e),n((0,N.k9)({memberName:e.memberName,memberStatus:e.memberStatus,hasNewNotices:e.hasNewNotices})),console.log("hasNewNotices = ",e.hasNewNotices)}catch(e){f().isAxiosError(e)?e.response?403===e.response.status?(alert("로그인이 만료됐습니다!"),sessionStorage.clear(),s("/signin")):console.error("데이터 가져오기 실패:",e.response.status,e.response.statusText):e.request?console.error("데이터 가져오기 실패: 요청이 실패했습니다."):console.error("데이터 가져오기 실패:",e.message):console.error("데이터 가져오기 실패:",e.message)}})({navigate:e,setMemberData:r})}),[e]),(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("div",{className:"btns",children:(0,p.jsxs)("button",{className:"userId",onClick:()=>{t((e=>!e))},children:[n.memberName,"님",s&&(0,p.jsxs)("div",{className:"dropdown-content",children:[(0,p.jsx)(y.d$e,{size:60,style:{color:"lightgray"}}),(0,p.jsxs)("div",{className:"memberName",children:[n.memberName,"님"]}),(0,p.jsxs)("div",{className:"navbarInfo",children:[(0,p.jsx)("div",{className:"memberStatus",children:n.memberStatus}),(0,p.jsxs)("div",{className:"memberGen",children:[n.memberGen,"기"]}),(0,p.jsxs)("div",{className:"memberScore",children:["현재",(0,p.jsx)("p",{children:n.memberScore}),"점"]})]}),(0,p.jsxs)("div",{className:"navbar_bottom",children:[(0,p.jsx)("a",{className:"btn_mypage",href:"/mypage",children:"마이페이지"}),(0,p.jsx)("a",{onClick:()=>{console.log("로그아웃"),(0,v.A)(e)},className:"btn_top_logout",children:"로그아웃"})]})]})]})}),(0,p.jsxs)("div",{className:"navbar",children:[(0,p.jsx)("p",{className:"logo",onClick:()=>e("/"),children:"PES"}),(0,p.jsx)(b,{})]})]})};var S=t(8027),k=t(6512),z=t(1735);const _=()=>{const e=(0,l.Zp)(),s=sessionStorage.getItem("status");return(0,p.jsxs)("div",{className:"footer",children:[(0,p.jsxs)("div",{className:"footer_left",children:[(0,p.jsx)("p",{className:"logo",children:"PES"}),(0,p.jsxs)("div",{className:"info",children:[(0,p.jsxs)("div",{className:"phone",children:[(0,p.jsx)(k.lSi,{size:24})," ",(0,p.jsx)("p",{children:"123qpq@naver.com"})]}),(0,p.jsxs)("div",{className:"address",children:[(0,p.jsx)(S.vq8,{size:20}),(0,p.jsx)("p",{children:"경북 경산시 대학로 280 생산기술연구원 G15 213호"})]})]})]}),(0,p.jsxs)("div",{className:"footer_right",children:[(0,p.jsx)("p",{className:"about",children:"About The Club"}),(0,p.jsx)("p",{className:"info1",children:"영남대학교 로봇공학과 동아리 PowerSupply의"}),(0,p.jsx)("p",{className:"info2",children:"교육시스템 개발팀 PES"}),(0,p.jsxs)("div",{className:"sns",children:[(0,p.jsx)("a",{href:"https://www.instagram.com/team.pes23/",target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(z.cli,{size:36})}),(0,p.jsx)("a",{href:"https://github.com/PowerSupply-ES",target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(S.hL4,{size:30})})]}),s?(0,p.jsx)("div",{onClick:()=>(0,v.A)(e),className:"footer_logout",children:"로그아웃"}):(0,p.jsx)(p.Fragment,{})]})]})},C=()=>{const{status:e}=(0,i.d4)((e=>e.user));return(0,p.jsxs)("div",{children:[e?(0,p.jsx)(w,{}):(0,p.jsx)(g,{}),(0,p.jsx)(l.sv,{}),(0,p.jsx)(_,{})]})};var I=t(8398),q=t(1848),E=t(675),P=t(1791),O=t(9419),T=t(815),G=t(3551);const Z=(0,q.Ay)(P.Ay)({width:240,flexShrink:0,boxSizing:"border-box",mt:10,[`& .${O.A.paper}`]:{width:240,boxSizing:"border-box"}});function $(){return(0,p.jsxs)(Z,{variant:"permanent",sx:{display:{xs:"none",md:"block"},[`& .${O.A.paper}`]:{backgroundColor:"background.paper"}},children:[(0,p.jsx)(x.A,{sx:{display:"flex",mt:"40px",p:1.5}}),(0,p.jsx)(I.rm,{}),(0,p.jsxs)(T.A,{direction:"row",sx:{p:2,gap:1,alignItems:"center",borderTop:"1px solid",borderColor:"divider"},children:[(0,p.jsx)(E.A,{sizes:"small",alt:"Riley Carter",sx:{width:36,height:36}}),(0,p.jsxs)(x.A,{sx:{mr:"auto"},children:[(0,p.jsx)(G.A,{variant:"body2",sx:{fontWeight:500,lineHeight:"16px"},children:"관리자"}),(0,p.jsx)(G.A,{variant:"caption",sx:{color:"text.secondary"},children:"csi9926@gmail.com"})]}),(0,p.jsx)(I.Ag,{})]})]})}var R=t(6990),U=t(9828),D=t(8532),F=t(2070);const L=(0,q.Ay)(U.A)((e=>{let{theme:s}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0,borderBottom:"1px solid",borderColor:s.palette.divider,backgroundColor:s.palette.background.paper,boxShadow:"none",backgroundImage:"none",zIndex:s.zIndex.drawer+1,flex:"0 0 auto"}}));function B(e){let{children:s}=e;const t=(0,l.Zp)();return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(x.A,{sx:{height:"100vh",display:"flex",flexDirection:"column"},children:[(0,p.jsx)(L,{children:(0,p.jsx)(D.A,{variant:"dense",disableGutters:!0,sx:{display:"flex",justifyContent:"space-between",width:"98%",p:"8px 12px"},children:(0,p.jsx)(R.A,{variant:"text",size:"small","aria-label":"Back to MyPage",startIcon:(0,p.jsx)(F.A,{}),component:"a",onClick:()=>t("/mypage"),sx:{display:{xs:"none",sm:"flex"}},children:"Back to MyPage"})})}),(0,p.jsxs)(x.A,{sx:{display:"flex",flexGrow:1},children:[(0,p.jsx)($,{}),(0,p.jsx)(x.A,{sx:{flexGrow:1,overflow:"auto",width:"calc(100% - 240px)"},children:s})]})]})})}const M=()=>(0,p.jsx)(B,{children:(0,p.jsx)(l.sv,{})}),H=e=>{let{children:s}=e;const t="관리자"===sessionStorage.getItem("memberStatus"),n=(0,l.Zp)();return(0,a.useEffect)((()=>{t||(alert("권한이 없습니다!"),n(-1))}),[t,n]),t?s:null};var K=t(3124),V=t(4644);const W={status:!1,memberId:null},X={memberName:"",memberStatus:"",hasNewNotices:!1,memberGen:0,memberScore:0},Y=(0,V.HY)({sign:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"LOGIN":return{...e,status:!0,memberId:s.payload};case"LOGOUT":return{...e,status:!1,memberId:null};default:return e}},user:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,s=arguments.length>1?arguments[1]:void 0;return"SET_USER_INFO"===s.type?{...e,...s.payload}:e}}),J=window.__REDUX_DEVTOOLS_EXTENSION__,Q=(0,V.y$)(Y,J&&J()),ee=r().lazy((()=>Promise.all([t.e(729),t.e(658),t.e(420),t.e(424),t.e(517),t.e(515),t.e(247),t.e(605),t.e(43),t.e(650),t.e(538),t.e(891),t.e(282),t.e(855),t.e(673),t.e(825),t.e(642),t.e(722),t.e(871),t.e(854),t.e(689),t.e(622)]).then(t.bind(t,7622)))),se=r().lazy((()=>t.e(520).then(t.bind(t,520)))),te=r().lazy((()=>t.e(838).then(t.bind(t,3838)))),ne=r().lazy((()=>Promise.all([t.e(729),t.e(658),t.e(420),t.e(424),t.e(517),t.e(515),t.e(247),t.e(605),t.e(43),t.e(650),t.e(538),t.e(891),t.e(282),t.e(855),t.e(673),t.e(825),t.e(642),t.e(722),t.e(871),t.e(854),t.e(689),t.e(817)]).then(t.bind(t,4817)))),ae=r().lazy((()=>Promise.all([t.e(729),t.e(658),t.e(420),t.e(424),t.e(517),t.e(515),t.e(247),t.e(605),t.e(43),t.e(650),t.e(538),t.e(891),t.e(282),t.e(855),t.e(673),t.e(825),t.e(642),t.e(722),t.e(871),t.e(854),t.e(689),t.e(167)]).then(t.bind(t,9548)))),re=r().lazy((()=>t.e(676).then(t.bind(t,5346)))),le=r().lazy((()=>t.e(385).then(t.bind(t,1385)))),ie=r().lazy((()=>t.e(502).then(t.bind(t,3121)))),oe=r().lazy((()=>Promise.all([t.e(729),t.e(658),t.e(420),t.e(424),t.e(517),t.e(515),t.e(247),t.e(605),t.e(43),t.e(650),t.e(538),t.e(891),t.e(282),t.e(855),t.e(673),t.e(825),t.e(642),t.e(722),t.e(871),t.e(854),t.e(689),t.e(239)]).then(t.bind(t,6239)))),ce=r().lazy((()=>Promise.all([t.e(729),t.e(658),t.e(420),t.e(424),t.e(517),t.e(515),t.e(247),t.e(605),t.e(43),t.e(650),t.e(538),t.e(891),t.e(282),t.e(855),t.e(673),t.e(825),t.e(642),t.e(722),t.e(871),t.e(854),t.e(689),t.e(849)]).then(t.bind(t,1849)))),de=r().lazy((()=>Promise.all([t.e(729),t.e(658),t.e(420),t.e(424),t.e(517),t.e(515),t.e(247),t.e(605),t.e(43),t.e(650),t.e(538),t.e(891),t.e(282),t.e(855),t.e(673),t.e(825),t.e(642),t.e(722),t.e(871),t.e(854),t.e(689),t.e(992)]).then(t.bind(t,3992)))),xe=r().lazy((()=>t.e(706).then(t.bind(t,1706)))),me=r().lazy((()=>t.e(188).then(t.bind(t,8188)))),he=r().lazy((()=>t.e(136).then(t.bind(t,9136)))),pe=r().lazy((()=>t.e(116).then(t.bind(t,8116)))),je=()=>(0,p.jsx)(i.Kq,{store:Q,children:(0,p.jsx)("div",{className:"App",style:{backgroundColor:"#f5f5f5"},children:(0,p.jsx)(a.Suspense,{fallback:(0,p.jsx)(K.A,{}),children:(0,p.jsxs)(l.BV,{children:[(0,p.jsxs)(l.qh,{path:"/",element:(0,p.jsx)(C,{}),children:[(0,p.jsx)(l.qh,{path:"",element:(0,p.jsx)(re,{})}),(0,p.jsx)(l.qh,{path:"/signin",element:(0,p.jsx)(ne,{})}),(0,p.jsx)(l.qh,{path:"/signup",element:(0,p.jsx)(ae,{})}),(0,p.jsx)(l.qh,{path:"/mypage",element:(0,p.jsx)(le,{})}),(0,p.jsx)(l.qh,{path:"/notice",element:(0,p.jsx)(oe,{})}),(0,p.jsx)(l.qh,{path:"/postNotice",element:(0,p.jsx)(ce,{})}),(0,p.jsx)(l.qh,{path:"/solution/:id",element:(0,p.jsx)(ie,{})}),(0,p.jsx)(l.qh,{path:"/list",element:(0,p.jsx)(ee,{})}),(0,p.jsx)(l.qh,{path:"/problem/:id",element:(0,p.jsx)(se,{})}),(0,p.jsx)(l.qh,{path:"/question/:id",element:(0,p.jsx)(te,{})}),(0,p.jsx)(l.qh,{path:"/notice/:id",element:(0,p.jsx)(de,{})}),(0,p.jsx)(l.qh,{path:"/manageUser/:id",element:(0,p.jsx)(pe,{})})]}),(0,p.jsxs)(l.qh,{path:"/",element:(0,p.jsx)(M,{}),children:[(0,p.jsx)(l.qh,{path:"/manageUser",element:(0,p.jsx)(H,{children:(0,p.jsx)(xe,{})})}),(0,p.jsx)(l.qh,{path:"/manageProb",element:(0,p.jsx)(H,{children:(0,p.jsx)(me,{})})}),(0,p.jsx)(l.qh,{path:"/manageFeed",element:(0,p.jsx)(H,{children:(0,p.jsx)(he,{})})})]})]})})})});var ue=t(4976);const be=document.getElementById("root");n.createRoot(be).render((0,p.jsx)(ue.Kd,{children:(0,p.jsx)(je,{})}))},8425:(e,s,t)=>{t.d(s,{Zm:()=>a,iC:()=>n,k9:()=>r});const n=e=>({type:"LOGIN",payload:e}),a=()=>({type:"LOGOUT"}),r=e=>({type:"SET_USER_INFO",payload:e})},1594:e=>{e.exports=React},5206:e=>{e.exports=ReactDOM},3719:e=>{e.exports=axios}},e=>{e.O(0,[729,658,420,424,517,515,247,605,43,650,538,891,282,855,673,825,642,722,871,854,689],(()=>e(e.s=619))),e.O()}]);